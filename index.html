<body>
  <header>
    <h1>ğŸ’§ SerayÄ±n Su TakipÃ§isi</h1>
    <button id="theme-toggle">ğŸŒ™</button>
  </header>

  <main>
    <p>BugÃ¼n iÃ§ilen toplam su: <span id="total">0</span> ml</p>

    <div class="goal-settings">
      <label for="dailyGoal">GÃ¼nlÃ¼k Hedef (ml):</label>
      <input type="number" id="dailyGoal" value="2000" min="500" step="100"/>
      <button onclick="saveDailyGoal()">Hedefi Kaydet</button>
      <button onclick="resetDailyGoal()">Hedefi SÄ±fÄ±rla</button>
      <p>Mevcut Hedef: <span id="currentGoal">2000</span> ml</p>
    </div>

    <div class="progress-container">
      <div class="progress-bar" id="progressBar"></div>
    </div>
    <p id="progressText">0%</p>

    <div class="add-water-buttons">
      <button onclick="addWater(250)">+250 ml</button>
      <button onclick="addWater(500)">+500 ml</button>
      <button onclick="addWater(650)">+650 ml</button>
    </div>

    <button onclick="resetTotal()">GÃ¼nlÃ¼k ToplamÄ± SÄ±fÄ±rla</button>
  </main>

  <canvas id="weeklyChart" width="400" height="200"></canvas>

  <div class="reminder-settings">
    <p>ğŸ”” Her saat baÅŸÄ±nda otomatik su iÃ§me hatÄ±rlatmasÄ± aktif.</p>
    <label for="reminderTime">ğŸ”” HatÄ±rlatma Saati:</label>
    <input type="time" id="reminderTime" />
    <button onclick="saveReminderTime()">Kaydet</button>
    <p>Ayarlanan HatÄ±rlatma: <span id="setReminderTime">-</span></p>
  </div>

  <button id="enable-notifications">Bildirimleri EtkinleÅŸtir</button>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="script.js"></script>
  <link rel="stylesheet" href="style.css">
  <style>
    header {
      background: linear-gradient(90deg, #4caf50, #81c784);
      color: white;
      padding: 20px 0;
      font-size: 28px;
      font-weight: bold;
      text-align: center;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      position: sticky;
      top: 0;
      z-index: 1000;
      animation: fadeIn 1s ease-in-out;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js')
        .then(function (registration) {
          console.log('Service Worker baÅŸarÄ±yla kaydedildi:', registration);
        })
        .catch(function (error) {
          console.error('Service Worker kaydedilemedi:', error);
        });
    }

    if ('Notification' in window) {
      if (Notification.permission !== 'granted') {
        Notification.requestPermission().then(function (permission) {
          if (permission === 'granted') {
            console.log('Bildirim izni verildi!');
          }
        });
      }
    }
  </script>
</body>
</html>